# Day 2: Astro Components & Syntax Mastery

**Duration:** 60 minutes  
**Level:** Beginner to Intermediate  
**Prerequisites:** Basic HTML, CSS, and JavaScript knowledge

---

## ğŸ“š Course Overview

Master Astro component syntax, props, slots, and styling to build reusable, type-safe UI components. By the end of this lesson, you'll understand component composition, data flow, and styling patterns in Astro.

---

## Part 1: Theory (20 minutes)

### 1.1 Component Anatomy

Astro components (`.astro` files) consist of three main sections:

```astro
---
// ğŸ”· FRONTMATTER SECTION
// JavaScript/TypeScript code that runs at build time
// Used for: imports, data fetching, props, logic
const greeting = "Hello";
---

<!-- ğŸ”· TEMPLATE SECTION -->
<!-- HTML-like markup with JSX-style expressions -->
<h1>{greeting}, World! ğŸŒ</h1>

<!-- ğŸ”· SCRIPT SECTION (Optional) -->
<!-- Client-side JavaScript that runs in the browser -->
<script>
  // Interactive client-side code
  console.log("Running in browser! ğŸš€");
</script>

<!-- ğŸ”· STYLE SECTION -->
<!-- Scoped CSS by default -->
<style>
  h1 {
    color: purple;
    font-size: 2rem;
  }
</style>
```

**Key Points:**
- **Frontmatter** (`---`): Executes on server/build time only
- **Template**: Rendered HTML with dynamic expressions `{}`
- **Scripts**: Optional client-side JavaScript
- **Styles**: Automatically scoped to prevent conflicts

---

### 1.2 Props & Type Safety

Props allow you to pass data to components. TypeScript interfaces ensure type safety:

```astro
---
// ğŸ”· Define the Props interface for type safety
interface Props {
  title: string;           // Required prop
  description?: string;    // Optional prop (note the ?)
  count?: number;          // Optional with default value
  variant?: 'primary' | 'secondary';  // Union type
}

// ğŸ”· Destructure props with default values
const { 
  title, 
  description = "No description provided", 
  count = 0,
  variant = 'primary' 
} = Astro.props;
---

<div class={`card card-${variant}`}>
  <h2>{title}</h2>
  {description && <p>{description} ğŸ“</p>}
  <span class="count">Count: {count} ğŸ”¢</span>
</div>
```

**Best Practices:**
- Always define a `Props` interface for TypeScript support
- Use optional props (`?`) for flexibility
- Provide default values when destructuring
- Use union types for limited options (like `variant`)

---

### 1.3 Slots for Composition

Slots enable flexible component composition by allowing parent components to inject content:

#### Default Slot

```astro
---
// ğŸ”· Container.astro - Component with default slot
---
<div class="container">
  <header>
    <h1>My Container ğŸ“¦</h1>
  </header>
  <main>
    <!-- ğŸ”· Default slot: renders all children -->
    <slot />
  </main>
</div>
```

**Usage:**

```astro
---
import Container from './Container.astro';
---
<Container>
  <!-- ğŸ”· This content goes into the <slot /> -->
  <p>This text will appear in the slot! âœ¨</p>
  <button>Click me! ğŸ‘†</button>
</Container>
```

#### Named Slots

```astro
---
// ğŸ”· Card.astro - Component with named slots
---
<article class="card">
  <header>
    <!-- ğŸ”· Named slot for header content -->
    <slot name="header" />
  </header>
  
  <div class="content">
    <!-- ğŸ”· Default slot for main content -->
    <slot />
  </div>
  
  <footer>
    <!-- ğŸ”· Named slot for footer content -->
    <slot name="footer" />
  </footer>
</article>
```

**Usage:**

```astro
<Card>
  <!-- ğŸ”· Specify slot with the "slot" attribute -->
  <h2 slot="header">Card Title ğŸ¯</h2>
  
  <!-- ğŸ”· Content without slot attribute goes to default slot -->
  <p>This is the main content of the card.</p>
  
  <small slot="footer">Last updated: 2025 ğŸ“…</small>
</Card>
```

#### Fallback Content

```astro
<div class="message">
  <slot>
    <!-- ğŸ”· Fallback: shown only if no content is provided -->
    <p>No message available ğŸ¤·</p>
  </slot>
</div>
```

---

### 1.4 Styling Best Practices

#### Scoped Styles (Default)

```astro
<style>
  /* ğŸ”· Scoped: Only affects elements in THIS component */
  .card {
    border: 1px solid #ccc;
    padding: 1.5rem;
    border-radius: 8px;
  }
  
  h1 {
    color: purple;
    margin: 0;
  }
</style>
```

#### Global Styles

```astro
<style is:global>
  /* ğŸ”· Global: Affects ALL elements on the page */
  body {
    font-family: system-ui, sans-serif;
    background: #f5f5f5;
  }
</style>
```

#### Mixed Scoped and Global

```astro
<style>
  /* ğŸ”· Scoped to this component */
  .wrapper {
    padding: 2rem;
  }
  
  /* ğŸ”· Global: affects h1 inside child components */
  .wrapper :global(h1) {
    color: blue;
  }
</style>
```

#### CSS Variables for Theming

```astro
---
// ğŸ”· Define dynamic values in frontmatter
const primaryColor = "rgb(59, 130, 246)";
const secondaryColor = "rgb(239, 68, 68)";
---

<style define:vars={{ primaryColor, secondaryColor }}>
  /* ğŸ”· Use CSS variables with frontmatter values */
  .card {
    background: var(--primaryColor);
    border-color: var(--secondaryColor);
  }
</style>
```

#### Dynamic Classes

```astro
---
const { isActive, size = 'medium' } = Astro.props;
---

<!-- ğŸ”· Using class:list for conditional classes -->
<button class:list={[
  'btn',
  `btn-${size}`,
  { 'btn-active': isActive }
]}>
  Click me! ğŸ‘†
</button>

<style>
  .btn { padding: 0.5rem 1rem; }
  .btn-small { font-size: 0.875rem; }
  .btn-medium { font-size: 1rem; }
  .btn-large { font-size: 1.125rem; }
  .btn-active { background: #3b82f6; }
</style>
```

---

## Part 2: Practice (35 minutes)

### Exercise 1: Create a Reusable Card Component (15 minutes)

**Goal:** Build a flexible card component with props, slots, and styling variants.

#### Step 1: Create the Card Component

Create `src/components/Card.astro`:

```astro
---
// ğŸ”· Define Props interface for type safety
interface Props {
  title: string;
  description?: string;
  variant?: 'primary' | 'secondary' | 'success' | 'danger';
  elevated?: boolean;
}

// ğŸ”· Destructure props with default values
const { 
  title, 
  description, 
  variant = 'primary',
  elevated = false 
} = Astro.props;
---

<div class:list={[
  'card',
  `card-${variant}`,
  { 'card-elevated': elevated }
]}>
  <div class="card-header">
    <h3>{title} âœ¨</h3>
    {description && <p class="card-description">{description}</p>}
  </div>
  
  <div class="card-body">
    <!-- ğŸ”· Default slot for card content -->
    <slot />
  </div>
  
  <div class="card-footer">
    <!-- ğŸ”· Named slot for footer actions -->
    <slot name="footer" />
  </div>
</div>

<style>
  .card {
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s ease;
    background: white;
  }
  
  .card-elevated {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  }
  
  .card-elevated:hover {
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    transform: translateY(-2px);
  }
  
  /* ğŸ”· Variant styles */
  .card-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
  }
  
  .card-secondary {
    background: #f3f4f6;
    border-color: #d1d5db;
  }
  
  .card-success {
    background: #ecfdf5;
    border-color: #10b981;
  }
  
  .card-danger {
    background: #fef2f2;
    border-color: #ef4444;
  }
  
  .card-header h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.5rem;
    font-weight: 600;
  }
  
  .card-description {
    margin: 0;
    opacity: 0.8;
    font-size: 0.875rem;
  }
  
  .card-body {
    margin: 1rem 0;
  }
  
  .card-footer {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  /* ğŸ”· Remove footer border if empty */
  .card-footer:empty {
    display: none;
  }
</style>
```

#### Step 2: Use the Card Component

Create `src/pages/cards-demo.astro`:

```astro
---
import Card from '../components/Card.astro';
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Card Components Demo</title>
  </head>
  <body>
    <main>
      <h1>Card Component Examples ğŸ´</h1>
      
      <!-- ğŸ”· Primary card with footer -->
      <Card 
        title="Welcome!" 
        description="This is a primary card variant"
        variant="primary"
        elevated={true}
      >
        <p>This is the main content of the card. You can put anything here! ğŸ¨</p>
        <ul>
          <li>Feature 1 âœ“</li>
          <li>Feature 2 âœ“</li>
          <li>Feature 3 âœ“</li>
        </ul>
        
        <button slot="footer">Learn More â†’</button>
      </Card>
      
      <!-- ğŸ”· Success card -->
      <Card 
        title="Success!" 
        variant="success"
      >
        <p>Your operation completed successfully! ğŸ‰</p>
      </Card>
      
      <!-- ğŸ”· Danger card -->
      <Card 
        title="Warning" 
        description="Please review this message"
        variant="danger"
        elevated={true}
      >
        <p>There was an error processing your request. âš ï¸</p>
        
        <div slot="footer">
          <button>Retry</button>
          <button>Cancel</button>
        </div>
      </Card>
      
      <!-- ğŸ”· Secondary card without footer -->
      <Card 
        title="Information" 
        variant="secondary"
      >
        <p>This card has no footer slot content. ğŸ“‹</p>
      </Card>
    </main>
  </body>
</html>

<style>
  body {
    font-family: system-ui, -apple-system, sans-serif;
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    background: #fafafa;
  }
  
  h1 {
    margin-bottom: 2rem;
    color: #1f2937;
  }
  
  main {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }
  
  button {
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 6px;
    background: #3b82f6;
    color: white;
    cursor: pointer;
    font-weight: 500;
    transition: background 0.2s;
  }
  
  button:hover {
    background: #2563eb;
  }
</style>
```

---

### Exercise 2: Build a Layout Component (20 minutes)

**Goal:** Create a reusable layout with props, named slots, and responsive design.

#### Step 1: Create Navigation Component

Create `src/components/Navigation.astro`:

```astro
---
// ğŸ”· Define navigation items
const navItems = [
  { href: '/', label: 'Home', icon: 'ğŸ ' },
  { href: '/about', label: 'About', icon: 'ğŸ‘¤' },
  { href: '/blog', label: 'Blog', icon: 'ğŸ“' },
  { href: '/contact', label: 'Contact', icon: 'ğŸ“§' }
];

// ğŸ”· Get current path for active state
const currentPath = Astro.url.pathname;
---

<nav class="navigation">
  <ul class="nav-list">
    {navItems.map(item => (
      <li>
        <a 
          href={item.href}
          class:list={['nav-link', { active: currentPath === item.href }]}
          aria-current={currentPath === item.href ? 'page' : undefined}
        >
          <span class="icon">{item.icon}</span>
          <span class="label">{item.label}</span>
        </a>
      </li>
    ))}
  </ul>
</nav>

<style>
  .navigation {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 1rem 0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .nav-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
  }
  
  .nav-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    text-decoration: none;
    color: white;
    border-radius: 6px;
    transition: all 0.2s;
    font-weight: 500;
  }
  
  .nav-link:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
  }
  
  .nav-link.active {
    background: rgba(255, 255, 255, 0.3);
    font-weight: 600;
  }
  
  .icon {
    font-size: 1.25rem;
  }
  
  @media (max-width: 768px) {
    .label {
      display: none;
    }
    
    .icon {
      font-size: 1.5rem;
    }
  }
</style>
```

#### Step 2: Create Footer Component

Create `src/components/Footer.astro`:

```astro
---
const currentYear = new Date().getFullYear();
---

<footer class="footer">
  <div class="footer-content">
    <div class="footer-section">
      <h3>About ğŸ“š</h3>
      <p>Learning Astro components and layouts!</p>
    </div>
    
    <div class="footer-section">
      <h3>Quick Links ğŸ”—</h3>
      <ul>
        <li><a href="/docs">Documentation</a></li>
        <li><a href="/tutorial">Tutorial</a></li>
        <li><a href="/examples">Examples</a></li>
      </ul>
    </div>
    
    <div class="footer-section">
      <h3>Connect ğŸŒ</h3>
      <div class="social-links">
        <a href="#" aria-label="GitHub">GitHub ğŸ’»</a>
        <a href="#" aria-label="Twitter">Twitter ğŸ¦</a>
        <a href="#" aria-label="Discord">Discord ğŸ’¬</a>
      </div>
    </div>
  </div>
  
  <div class="footer-bottom">
    <p>&copy; {currentYear} Astro Learning. Built with ğŸ’œ and Astro</p>
  </div>
</footer>

<style>
  .footer {
    background: #1f2937;
    color: white;
    padding: 2rem 1rem 1rem;
    margin-top: 4rem;
  }
  
  .footer-content {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
  }
  
  .footer-section h3 {
    margin: 0 0 1rem 0;
    color: #a78bfa;
    font-size: 1.125rem;
  }
  
  .footer-section p {
    margin: 0;
    opacity: 0.8;
    line-height: 1.6;
  }
  
  .footer-section ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  
  .footer-section ul li {
    margin-bottom: 0.5rem;
  }
  
  .footer-section a {
    color: white;
    text-decoration: none;
    opacity: 0.8;
    transition: opacity 0.2s;
  }
  
  .footer-section a:hover {
    opacity: 1;
    text-decoration: underline;
  }
  
  .social-links {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }
  
  .footer-bottom {
    text-align: center;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    opacity: 0.8;
  }
  
  .footer-bottom p {
    margin: 0;
  }
</style>
```

#### Step 3: Create Base Layout

Create `src/layouts/BaseLayout.astro`:

```astro
---
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

// ğŸ”· Define Props interface with meta information
interface Props {
  title: string;
  description?: string;
  author?: string;
  ogImage?: string;
}

// ğŸ”· Destructure props with defaults
const { 
  title, 
  description = "A website built with Astro",
  author = "Astro Developer",
  ogImage = "/og-image.jpg"
} = Astro.props;

// ğŸ”· Construct full title
const fullTitle = `${title} | My Astro Site`;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- ğŸ”· SEO Meta Tags -->
    <title>{fullTitle}</title>
    <meta name="description" content={description} />
    <meta name="author" content={author} />
    
    <!-- ğŸ”· Open Graph -->
    <meta property="og:title" content={fullTitle} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImage} />
    <meta property="og:type" content="website" />
    
    <!-- ğŸ”· Named slot for additional head content -->
    <slot name="head" />
    
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  </head>
  
  <body>
    <!-- ğŸ”· Header section with navigation -->
    <header>
      <Navigation />
      
      <!-- ğŸ”· Named slot for custom header content -->
      <div class="header-extra">
        <slot name="header" />
      </div>
    </header>
    
    <!-- ğŸ”· Main content area with default slot -->
    <main class="main-content">
      <slot />
    </main>
    
    <!-- ğŸ”· Footer section -->
    <Footer />
    
    <!-- ğŸ”· Named slot for additional scripts -->
    <slot name="scripts" />
  </body>
</html>

<style is:global>
  /* ğŸ”· Global reset and base styles */
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  html {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 
                 Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background: #fafafa;
    color: #1f2937;
    line-height: 1.6;
  }
  
  body {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  
  .main-content {
    flex: 1;
    max-width: 1200px;
    width: 100%;
    margin: 0 auto;
    padding: 2rem 1rem;
  }
  
  .header-extra:empty {
    display: none;
  }
  
  h1, h2, h3, h4, h5, h6 {
    line-height: 1.2;
    margin-bottom: 1rem;
    color: #111827;
  }
  
  h1 {
    font-size: 2.5rem;
    font-weight: 700;
  }
  
  h2 {
    font-size: 2rem;
    font-weight: 600;
  }
  
  p {
    margin-bottom: 1rem;
  }
  
  a {
    color: #3b82f6;
    transition: color 0.2s;
  }
  
  a:hover {
    color: #2563eb;
  }
  
  code {
    background: #f3f4f6;
    padding: 0.125rem 0.25rem;
    border-radius: 4px;
    font-size: 0.875em;
    font-family: 'Courier New', monospace;
  }
</style>
```

#### Step 4: Use the Layout in a Page

Create `src/pages/index.astro`:

```astro
---
import BaseLayout from '../layouts/BaseLayout.astro';
import Card from '../components/Card.astro';
---

<BaseLayout
  title="Home"
  description="Welcome to my Astro website!"
  author="Your Name"
>
  <!-- ğŸ”· Additional styles in head slot -->
  <style slot="head">
    .hero {
      text-align: center;
      padding: 3rem 1rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 12px;
      margin-bottom: 2rem;
    }
  </style>
  
  <!-- ğŸ”· Custom header content -->
  <div slot="header" class="hero">
    <h1>Welcome to Astro! ğŸš€</h1>
    <p>Building fast, modern websites with components</p>
  </div>
  
  <!-- ğŸ”· Main page content (default slot) -->
  <section>
    <h2>Featured Content ğŸŒŸ</h2>
    
    <div style="display: grid; gap: 1.5rem; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
      <Card 
        title="Components" 
        description="Reusable UI building blocks"
        variant="primary"
        elevated={true}
      >
        <p>Learn how to create and compose Astro components! ğŸ§©</p>
        <button slot="footer">Learn More â†’</button>
      </Card>
      
      <Card 
        title="Props & Slots" 
        description="Pass data and content"
        variant="success"
        elevated={true}
      >
        <p>Master props and slots for flexible components! ğŸ¯</p>
        <button slot="footer">Explore â†’</button>
      </Card>
      
      <Card 
        title="Styling" 
        description="Scoped CSS by default"
        variant="secondary"
        elevated={true}
      >
        <p>Style your components with scoped CSS! ğŸ¨</p>
        <button slot="footer">Style Guide â†’</button>
      </Card>
    </div>
  </section>
  
  <!-- ğŸ”· Custom scripts in scripts slot -->
  <script slot="scripts">
    console.log("Page loaded! ğŸ‰");
  </script>
</BaseLayout>
```

---

## Part 3: Quick Review - Key Concepts (10 minutes)

### ğŸ¯ Component Structure

- **Frontmatter**: Server-side code between `---` markers
- **Template**: HTML with dynamic expressions `{}`
- **Styles**: Scoped by default, use `is:global` for global styles
- **Scripts**: Optional client-side JavaScript

### ğŸ¯ Props

- Define using TypeScript `interface Props {}`
- Optional props use `?` syntax
- Destructure with default values: `const { title = "Default" } = Astro.props;`
- Provides type safety and autocompletion

### ğŸ¯ Slots

- **Default slot**: `<slot />` - receives all children
- **Named slots**: `<slot name="footer" />` - receives specific content
- **Fallback**: Content inside `<slot>` shown if empty
- Enable flexible component composition

### ğŸ¯ Styling

- **Scoped**: Default behavior, styles don't leak
- **Global**: Use `is:global` attribute
- **Mixed**: Use `:global()` selector for child components
- **Dynamic**: Use `define:vars` for CSS variables from props
- **Conditional**: Use `class:list` for dynamic classes

### ğŸ¯ Best Practices

1. Always use TypeScript interfaces for props
2. Provide default values for optional props
3. Use named slots for specific content areas
4. Keep styles scoped unless globally needed
5. Use semantic HTML and proper ARIA attributes
6. Comment your code for clarity ğŸ“

---

## âœ… Checklist - What You Should Know After Day 2

- âœ… **Create components** with frontmatter, template, and styles
- âœ… **Define typed props** using TypeScript interfaces
- âœ… **Use default values** for optional props
- âœ… **Implement slots** (default and named) for composition
- âœ… **Add fallback content** to slots
- âœ… **Apply scoped styles** (default behavior)
- âœ… **Use global styles** with `is:global` attribute
- âœ… **Create CSS variables** with `define:vars`
- âœ… **Dynamic classes** with `class:list`
- âœ… **Build layout components** with multiple slots
- âœ… **Compose components** effectively
- âœ… **Understand data flow** (props down, slots for composition)

---

## ğŸš€ Next Steps

1. **Experiment**: Try creating your own components with different prop combinations
2. **Explore**: Add more variants to the Card component
3. **Extend**: Create additional layout variations (blog layout, docs layout)
4. **Practice**: Build a complete page using multiple custom components
5. **Optimize**: Learn about Astro's partial hydration in the next lesson

---

## ğŸ“š Additional Resources

- [Astro Components Documentation](https://docs.astro.build/en/basics/astro-components/)
- [TypeScript in Astro](https://docs.astro.build/en/guides/typescript/)
- [Styling Guide](https://docs.astro.build/en/guides/styling/)
- [Layouts Documentation](https://docs.astro.build/en/basics/layouts/)

---
